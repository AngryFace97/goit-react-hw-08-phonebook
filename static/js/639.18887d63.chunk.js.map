{"version":3,"file":"static/js/639.18887d63.chunk.js","mappings":"+TAEaA,E,QAAYC,GAAAA,IAAH,4hC,UCuEtB,EA/Dc,WACZ,OAAgBC,EAAAA,EAAAA,MAATC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,yCAAG,WAAMC,GAAN,2FACpBA,EAAEC,iBACIC,EAAOF,EAAEG,OACTC,EAAQF,EAAKE,MAAMC,MACnBC,EAAWJ,EAAKI,SAASD,MAEzBE,EAAc,CAAEH,MAAAA,EAAOE,SAAAA,GANT,SAOdZ,EAAMa,GACTC,SACAC,MAAK,YAAuC,IAApCC,EAAmC,EAAnCA,MAAmC,IAA5BC,KAAQP,EAAoB,EAApBA,MAAOQ,EAAa,EAAbA,KAC7BC,IAAAA,IAAY,QAASH,GACjBA,GACFf,GAASmB,EAAAA,EAAAA,IAAQ,CAAEV,MAAAA,EAAOQ,KAAAA,IAE7B,IACAG,OAAM,YACLC,EAAAA,EAAAA,GAAc,8DACf,IAjBiB,uBAmBAH,IAAAA,IAAY,SAnBZ,eAoBNI,KADRP,EAnBc,4EAwBdf,GAASuB,EAAAA,EAAAA,IAASR,IAxBJ,yBAyBdb,EAAS,aAzBK,QA0BpBK,EAAKiB,QA1Be,4CAAH,sDA6BnB,OACE,+BACE,UAAC5B,EAAD,YACE,mCACA,kBAAM6B,SAAUrB,EAAhB,WACE,0BACE,uCAEE,kBAAOsB,KAAK,QAAQT,KAAK,QAAQU,aAAa,QAAQC,UAAQ,UAGlE,0BACE,yCAEE,kBACEF,KAAK,WACLT,KAAK,WACLU,aAAa,mBACbC,UAAQ,UAId,mBAAQF,KAAK,SAAb,2BAKT,C,oECpEYL,EAAgB,SAACQ,GAAD,IAAUC,EAAV,uDAAyB,IAAMC,EAA/B,uDAA0C,YAA1C,OAC3BC,EAAAA,GAAAA,KAAWH,EAAS,CAClBE,SAAUA,EACVE,UAAWH,EACXI,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUhB,GARe,C","sources":["pages/Login/Login.styled.js","pages/Login/Login.jsx","utils/notifications.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const LoginForm = styled.div`\n  padding: 15px 50px;\n  width: 100%;\n  \n  & h2 {\n    margin-top: 0;\n    text-align: center;\n  }\n\n  & form {\n    display: flex;\n    flex-direction: column;\n    border: none;\n    border-radius: 10px;\n  }\n\n  & label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n    font-weight: 500;\n  }\n\n  & input {\n    font-size: 14px;\n    margin-top: 5px;\n    padding: 5px;\n    border: 1px solid gray;\n    outline: none;\n    line-height: 1.25;\n    border-radius: 5px;\n  }\n\n  & button {\n    max-width: 120px;\n    margin: 0 auto;\n    padding: 5px 10px;\n    border: 1px solid rgb(161, 161, 161);\n    border-radius: 5px;\n    font-size: 14px;\n    text-transform: capitalize;\n    color: black;\n    transition: color 1200ms, border-color 1200ms, background-color 1200ms, box-shadow 1200ms;\n  \n    &:hover {\n      color: white;\n      background-color: rgb(161, 161, 161);\n      transition: color 600ms, border-color 600ms, background-color 600ms, box-shadow 600ms;\n    }\n  }\n`;","import Cookies from 'js-cookie';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { addToken } from 'redux/slices/tokenSlice';\nimport { addUser } from 'redux/slices/userSlice';\nimport { useLoginMutation } from 'services/phonebookApi';\nimport { warningNotify } from 'utils/notifications';\nimport { LoginForm } from './Login.styled';\n\nconst Login = () => {\n  const [login] = useLoginMutation();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const email = form.email.value;\n    const password = form.password.value;\n\n    const credentials = { email, password };\n    await login(credentials)\n      .unwrap()\n      .then(({ token, user: { email, name } }) => {\n        Cookies.set('token', token);\n        if (token) {\n          dispatch(addUser({ email, name }));\n        }\n      })\n      .catch(() => {\n        warningNotify('The given data is incorrect. Check your email and password.');\n      });\n\n    const token = await Cookies.get('token');\n    if (token === undefined) {\n      return;\n    }\n\n    await dispatch(addToken(token));\n    await navigate('/contacts');\n    form.reset();\n  };\n\n  return (\n    <>\n      <LoginForm>\n        <h2>Login</h2>\n        <form onSubmit={submitHandler}>\n          <div>\n            <label>\n              E-mail\n              <input type=\"email\" name=\"email\" autoComplete=\"email\" required />\n            </label>\n          </div>\n          <div>\n            <label>\n              Password\n              <input\n                type=\"password\"\n                name=\"password\"\n                autoComplete=\"current-password\"\n                required\n              />\n            </label>\n          </div>\n          <button type=\"submit\">Log in</button>\n        </form>\n      </LoginForm>\n    </>\n  );\n};\n\nexport default Login;\n","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport const warningNotify = (message, closingDelay = 5000, position = 'top-right') =>\n  toast.warn(message, {\n    position: position,\n    autoClose: closingDelay,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });"],"names":["LoginForm","styled","useLoginMutation","login","dispatch","useDispatch","navigate","useNavigate","submitHandler","e","preventDefault","form","target","email","value","password","credentials","unwrap","then","token","user","name","Cookies","addUser","catch","warningNotify","undefined","addToken","reset","onSubmit","type","autoComplete","required","message","closingDelay","position","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress"],"sourceRoot":""}